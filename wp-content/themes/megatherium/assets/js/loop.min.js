/*!  - v1.0.0 - 2017-09-21
 * https://github.com/peternem/imp-wp#readme
 * Copyright (c) 2017; * Licensed GPLv2+ */

!function(jQuery,Backbone,_,settings,wpApiSettings){"use strict";var ApplicationRouter=Backbone.Router.extend({routes:{"":"home",home:"home",recentWork:"recentWork",about:"about",contact:"contact"},deselectPills:function(){jQuery("ul.navigation-menus li").removeClass("active")},selectPill:function(pill){this.deselectPills(),jQuery(pill).addClass("active")},hidePages:function(){jQuery("section.pages").hide()},showPage:function(page){this.hidePages(),jQuery(page).fadeIn("slow")},"":function(){this.showPage("section#home-page"),this.selectPill("li.home-link")},home:function(){this.showPage("section#home-page"),this.selectPill("li.home-link")},recentWork:function(){this.showPage("section#recentWork-page"),this.selectPill("li.recentWork-link")},about:function(){this.showPage("section#about-page"),this.selectPill("li.about-link")},contact:function(){this.showPage("section#contact-page"),this.selectPill("li.contact-link")}});new(Backbone.View.extend({el:jQuery("body"),events:{"click ul.navigation-menu li.home-link a":"displayHome","click ul.navigation-menu li.recentWork-link a":"displayRecentWork","click ul.navigation-menu li.about-link a":"displayAbout","click ul.navigation-menu li.contact-link a":"displayContact"},initialize:function(){this.router=new ApplicationRouter,Backbone.history.start()},displayHome:function(){this.router.navigate("home",!0)},displayRecentWork:function(){this.router.navigate("recentWork",!0)},displayAbout:function(){this.router.navigate("about",!0)},displayContact:function(){this.router.navigate("contact",!0)}})),wp.api.loadPromise.done(function(){var MyTags=Backbone.View.extend({el:"#tagList",initialize:function(){this.render()},render:function(){var that=this;(new wp.api.collections.Tags).fetch({data:{filter:{orderby:"",order:"DESC"},_embed:!0,per_page:100},success:function(data_tags){var template=_.template(jQuery("#tagsTemplate").html())({data_tags:data_tags.toJSON()});that.$el.html(template)}})}}),MyPosts=(new MyTags,Backbone.View.extend({initialize:function(){this.render()},render:function(){(new wp.api.collections.Posts).fetch({data:{per_page:25},success:function(data_posts){var template=_.template(jQuery("#welcomeTemplate").html())({data_posts:data_posts.toJSON()});jQuery("#welcome").html(template);var template_aa=_.template(jQuery("#aboutTemplate").html())({data_posts:data_posts.toJSON()});jQuery("#about-page").html(template_aa);var template_contact=_.template(jQuery("#contactTemplate").html())({data_posts:data_posts.toJSON()});jQuery("#contact-page").html(template_contact);var template_skills=_.template(jQuery("#skillTemplate").html())({data_posts:data_posts.toJSON()});jQuery("#skillset-page").html(template_skills);var template_work_intro=_.template(jQuery("#temp-wp1").html())({data_posts:data_posts.toJSON()});jQuery("#recentWorkInto").html(template_work_intro)}})}})),MyPortfolio=(new MyPosts,Backbone.View.extend({initialize:function(){this.render()},render:function(){(new wp.api.collections.Web_portfolio).fetch({data:{filter:{orderby:"",order:"DESC"},_embed:!0,per_page:25},success:function(data_portfolio){var template_wp=_.template(jQuery("#temp-wp").html())({data_portfolio:data_portfolio.toJSON()});jQuery("#recentWork-page1").html(template_wp)}}),(new wp.api.collections.Web_portfolio).fetch({data:{filter:{orderby:"",order:"DESC"},_embed:!0,per_page:4},success:function(data_portfolio_recent){var template_rec_wp=_.template(jQuery("#recentWebPort").html())({data_portfolio_recent:data_portfolio_recent.toJSON()});jQuery("#recentWork-rec").html(template_rec_wp)}})}})),MyAcfOptions=(new MyPortfolio,wp.api.models.Post.extend({urlRoot:wpApiSettings.root+"acf/v2/options/",defaults:{type:"options"}}));MyAcfOptions=wp.api.collections.Posts.extend({url:wpApiSettings.root+"acf/v2/options/",model:MyAcfOptions}),self.options=new MyAcfOptions,self.options.fetch({data:{filter:{orderby:"",order:"DESC"},_embed:!0,per_page:100}}).done(function(){var template=_.template(jQuery("#hero2Template").html())({options:self.options.toJSON()});jQuery("#hero").html(template);var template_x=_.template(jQuery("#keyPointsTemplate").html())({options:self.options.toJSON()});jQuery("#keyPoints").html(template_x);var template_social=_.template(jQuery("#socialTemplate").html())({options:self.options.toJSON()});jQuery("#socialLinks").html(template_social)})})}(jQuery,Backbone,_,settings,wpApiSettings);