/*!  - v1.0.0 - 2017-05-10
 * https://github.com/peternem/imp-wp#readme
 * Copyright (c) 2017; * Licensed GPLv2+ */

!function($,Backbone,_,settings,undefined,wpApiSettings){"use strict";var ApplicationRouter=Backbone.Router.extend({routes:{"":"home",home:"home",recentWork:"recentWork",about:"about",contact:"contact"},deselectPills:function(){$("ul.navigation-menus li").removeClass("active")},selectPill:function(pill){this.deselectPills(),$(pill).addClass("active")},hidePages:function(){$("section.pages").hide()},showPage:function(page){this.hidePages(),$(page).fadeIn("slow")},"":function(){this.showPage("section#home-page"),this.selectPill("li.home-link")},home:function(){this.showPage("section#home-page"),this.selectPill("li.home-link")},recentWork:function(){this.showPage("section#recentWork-page"),this.selectPill("li.recentWork-link")},about:function(){this.showPage("section#about-page"),this.selectPill("li.about-link")},contact:function(){this.showPage("section#contact-page"),this.selectPill("li.contact-link")}});new(Backbone.View.extend({el:$("body"),events:{"click ul.navigation-menu li.home-link a":"displayHome","click ul.navigation-menu li.recentWork-link a":"displayRecentWork","click ul.navigation-menu li.about-link a":"displayAbout","click ul.navigation-menu li.contact-link a":"displayContact"},initialize:function(){this.router=new ApplicationRouter,console.log(this.router),Backbone.history.start()},displayHome:function(){this.router.navigate("home",!0)},displayRecentWork:function(){this.router.navigate("recentWork",!0)},displayAbout:function(){this.router.navigate("about",!0)},displayContact:function(){this.router.navigate("contact",!0)}})),wp.api.loadPromise.done(function(){var MyTags=Backbone.View.extend({el:"#tagList",initialize:function(){this.render()},render:function(){var that=this;(new wp.api.collections.Tags).fetch({data:{filter:{orderby:"",order:"DESC"},_embed:!0,per_page:100},success:function(data_tags){var template=_.template($("#tagsTemplate").html())({data_tags:data_tags.toJSON()});that.$el.html(template)}})}}),MyPosts=(new MyTags,Backbone.View.extend({initialize:function(){this.render()},render:function(){(new wp.api.collections.Posts).fetch({data:{per_page:25},success:function(data_posts){console.log(data_posts);var template=_.template($("#welcomeTemplate").html())({data_posts:data_posts.toJSON()});$("#welcome").html(template);var template_aa=_.template($("#aboutTemplate").html())({data_posts:data_posts.toJSON()});$("#about-page").html(template_aa);var template_contact=_.template($("#contactTemplate").html())({data_posts:data_posts.toJSON()});$("#contact-page").html(template_contact);var template_skills=_.template($("#skillTemplate").html())({data_posts:data_posts.toJSON()});$("#skillset-page").html(template_skills);var template_work_intro=_.template($("#temp-wp1").html())({data_posts:data_posts.toJSON()});$("#recentWorkInto").html(template_work_intro)}})}})),MyPages=(new MyPosts,Backbone.View.extend({el:"#mypages",initialize:function(){this.render()},render:function(){(new wp.api.collections.Pages).fetch({success:function(data_pages){}})}})),MyWebPortfolio=(new MyPages,wp.api.models.Post.extend({urlRoot:"http://mattpeternell.dev/wp-json/wp/v2/web-portfolio",defaults:{type:"web-portfolio"}}));MyWebPortfolio=wp.api.collections.Posts.extend({url:"http://mattpeternell.dev/wp-json/wp/v2/web-portfolio",model:MyWebPortfolio}),self.events=new MyWebPortfolio,self.events.fetch({data:{filter:{orderby:"",order:"DESC"},_embed:!0,per_page:20}}).done(function(){var template_wp=_.template($("#temp-wp").html())({events:self.events.toJSON()});$("#recentWork-page1").html(template_wp)});var MyAcfOptions=wp.api.models.Post.extend({urlRoot:"http://mattpeternell.dev/wp-json/acf/v2/options",defaults:{type:"options"}});MyAcfOptions=wp.api.collections.Posts.extend({url:"http://mattpeternell.dev/wp-json/acf/v2/options",model:MyAcfOptions}),self.options=new MyAcfOptions,self.options.fetch({data:{filter:{orderby:"",order:"DESC"},_embed:!0,per_page:100}}).done(function(){var template=_.template($("#hero2Template").html())({options:self.options.toJSON()});$("#hero").html(template);var template_x=_.template($("#keyPointsTemplate").html())({options:self.options.toJSON()});$("#keyPoints").html(template_x)})})}(jQuery,Backbone,_,settings,wpApiSettings);